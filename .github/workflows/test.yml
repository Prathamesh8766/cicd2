name: "TEST"
on:
  workflow_dispatch:

jobs:
  send_email:
    runs-on: ubuntu-latest
    steps:
      - name: "Checkout"
        uses: actions/checkout@v4
      
      - name: "Install Python"
        uses: actions/setup-python@v5
        with:
          python-version: '3.x' 

      - name: "Install Dependencies"
        run: python -m pip install --upgrade pip  
      
      - name: "Send Mail"
        run: python print.py

      - name: "Trigers alert.yml"
        if : failure()
        run : |
          echo "print.py failed! Trigger another pipeline alert.yml"
          gh workflow run alert.yml --repo ${{ github.repository }} --ref ${{ github.ref }}
          env:
            GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
